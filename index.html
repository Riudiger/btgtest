







<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Painel Atendimento TelefÃ´nico</title>

<script src="https://api.backendless.com/sdk/js/latest/backendless.min.js"></script>
<script>
Backendless.initApp(
  "16519BB0-2CC5-4D6D-A7C8-CC9B9D69F91B",
  "FD19561E-7DE2-4E6B-AA75-2C846AF62F87"
);
</script>

<style>
*{ box-sizing:border-box; font-family:Arial }
body{ margin:0; background:#f4f6f8; color:#0f172a; }
header{ background:#001e36; color:#fff; padding:15px; text-align:center; font-size:20px; font-weight:bold; position:relative }
.admin-btn{ position:absolute; right:20px; top:12px; background:#0b3c5d; color:#fff; border:none; padding:8px 14px; border-radius:8px; cursor:pointer }
.admin-panel{ position:fixed; top:60px; right:20px; width:360px; background:#fff; padding:20px; border-radius:14px; box-shadow:0 10px 30px rgba(0,0,0,.15); display:none; z-index:999 }
.admin-panel h2{ margin-top:0; color:#001e36 }
.admin-panel button.close{ background:#b91c1c; color:#fff; width:100%; margin-top:10px }
.container{ max-width:1300px; margin:20px auto; padding:20px }
.card{ background:#fff; padding:20px; border-radius:14px; margin-bottom:20px; box-shadow:0 6px 18px rgba(0,0,0,.08) }
h2{ margin-top:0; color:#001e36 }
input,select,button{ padding:10px; border-radius:8px; border:1px solid #cbd5e1 }
button{ cursor:pointer; font-weight:bold }
.pause-buttons{ display:flex; flex-wrap:wrap; gap:10px; margin-top:10px }
.pause-buttons button{ background:#e5e7eb; color:#001e36 }
.pause-buttons button:hover{ background:#cbd5e1 }
.adm{ border:2px dashed #001e36 }
.grid{ display:grid; grid-template-columns:1fr 1fr; gap:20px }
table{ width:100%; border-collapse:collapse }
th,td{ border:1px solid #e5e7eb; padding:8px; text-align:center }
th{ background:#eef2f6; color:#001e36 }
.status{ display:flex; align-items:center; justify-content:center; gap:6px; font-weight:bold }
.bolinha{ width:10px; height:10px; border-radius:50% }
.verde{ background:#16a34a; color:#14532d }
.vermelho{ background:#dc2626; color:#7f1d1d }
.badge{ padding:3px 8px; border-radius:10px; font-size:12px; font-weight:bold }
.chat{ background:#e0f2fe; color:#075985 }
.telefone{ background:#e5e7eb; color:#001e36 }
.lista-analistas{ margin-top:15px }
.lista-analistas div{ display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; gap:6px }
.lista-analistas button{ padding:4px 6px; font-size:11px }
.admin-actions{ display:flex; gap:10px; margin-bottom:10px }

/* ===== Resumo de Disponibilidade ===== */
.resumo-pausas{
  display:flex;
  gap:15px;
  margin-top:15px;
}

.resumo-box{
  flex:1;
  background:#f8fafc;
  border-radius:12px;
  padding:15px;
  text-align:center;
  box-shadow:0 4px 12px rgba(0,0,0,.08);
}

.resumo-box h3{
  margin:0;
  font-size:14px;
  color:#001e36;
}

.resumo-num{
  font-size:32px;
  font-weight:bold;
  margin-top:6px;
}

.resumo-disponivel{ color:#16a34a; }
.resumo-pausa{ color:#dc2626; }
/* ===== Painel Lateral HistÃ³rico ===== */
.historico-wrapper{
  position:fixed;
  top:80px;
  right:-520px; /* comeÃ§a escondido */
  width:520px;
  height:calc(100% - 100px);
  background:#fff;
  box-shadow:-10px 0 25px rgba(0,0,0,.15);
  border-radius:16px 0 0 16px;
  transition:right .35s ease;
  z-index:1000;
  overflow:auto;
}

/* painel aberto */
.historico-wrapper.aberto{
  right:0;
}

/* setinha */
.historico-toggle{
  position:fixed;
  top:50%;
  right:0;
  transform:translateY(-50%);
  background:#001e36;
  color:#fff;
  padding:12px 10px;
  border-radius:12px 0 0 12px;
  cursor:pointer;
  font-size:18px;
  z-index:1001;
  box-shadow:-4px 0 10px rgba(0,0,0,.25);
}

.historico-toggle:hover{
  background:#0b3c5d;
}

</style>
</head>

<body>

<header>
ğŸ“ Painel de Atendimento
<button class="admin-btn" style="right:140px" onclick="toggleAusencias()">ğŸ“… AusÃªncias</button>
<button class="admin-btn" onclick="toggleAdmin()">ğŸ› ï¸ Admin</button>
</header>
<div class="admin-panel" id="ausenciasPanel" style="right:140px">
<h2>ğŸ“… AusÃªncias</h2>

<select id="ausAnalista"></select><br><br>

<select id="ausTipo">
  <option value="Atestado">ğŸ“„ Atestado</option>
  <option value="FÃ©rias">ğŸ–ï¸ FÃ©rias</option>
  <option value="Folga">ğŸ›Œ Folga</option>
  <option value="LicenÃ§a">ğŸ§¾ LicenÃ§a</option>
  <option value="Banco de Horas">â±ï¸ Banco de Horas</option>
  <option value="Treinamento">ğŸ“˜ Treinamento</option>
  <option value="ReuniÃ£o Externa">ğŸ‘¥ ReuniÃ£o Externa</option>
  <option value="Outros">â“ Outros</option>
</select>
<br><br>

<input type="date" id="ausData"><br><br>

<input type="time" id="ausInicio"> atÃ©
<input type="time" id="ausFim"><br><br>

<input id="ausMotivo" placeholder="Motivo"><br><br>

<button onclick="salvarAusencia()">Salvar</button>
<button onclick="exportarAusencias()">ğŸ“¤ Exportar</button>

<table style="margin-top:15px">
<thead>
<tr>
  <th>Analista</th>
  <th>Tipo</th>
  <th>Data</th>
  <th>HorÃ¡rio</th>
  <th>Motivo</th>
<th>AÃ§Ãµes</th>

</tr>
</thead>
<tbody id="listaAusencias"></tbody>
</table>

<button class="close" onclick="toggleAusencias()">Fechar</button>
</div>


<div class="admin-panel" id="adminPanel">

<h2>ğŸ‘¤ Cadastro do Analista</h2>

<input id="analistaNome" placeholder="Nome do Analista"><br><br>

<select id="analistaCanal">
<option value="">Canal</option>
<option value="Telefone">ğŸ“ Telefone</option>
<option value="Chat">ğŸ’¬ Chat</option>
</select><br><br>

<button onclick="cadastrarAnalista()">Salvar</button>


<hr style="margin:15px 0">

<button onclick="zerarTudoAderencia()" style="background:#0f766e;color:#fff;width:100%">
ğŸ”„ Zerar aderÃªncia de TODOS
</button>

<br><br>

<button onclick="zerarTudoPausas()" style="background:#7c2d12;color:#fff;width:100%">
â¸ï¸ Zerar pausas de TODOS
</button>

<div class="lista-analistas" id="listaAnalistas"></div>

<button class="close" onclick="toggleAdmin()">Fechar</button>
</div>

<div class="container">

<div class="card">
<h2>â¸ï¸ Controle de Pausas</h2>

<select id="selectAnalista">
<option value="">Selecione o analista</option>
</select><br><br>

<div class="pause-buttons">
<button onclick="iniciarPausa('AlmoÃ§o')">ğŸ½ï¸ AlmoÃ§o</button>
<button onclick="iniciarPausa('ReuniÃ£o')">ğŸ‘¥ ReuniÃ£o</button>
<button onclick="iniciarPausa('Treinamento')">ğŸ“˜ Treinamento</button>
<button onclick="iniciarPausa('Banheiro')">ğŸš» Banheiro</button>
<button onclick="iniciarPausa('Livre')">â³ Livre</button>
</div>

<button onclick="finalizarPausa()" style="margin-top:15px;background:#b91c1c;color:#fff">
Finalizar Pausa
</button>
<!-- ===== RESUMO DE ANALISTAS ===== -->
<div class="resumo-pausas">
  <div class="resumo-box">
    <h3>ğŸ‘¥ Total</h3>
    <div class="resumo-num" id="totalAnalistas">0</div>
  </div>

  <div class="resumo-box">
    <h3>ğŸŸ¢ DisponÃ­veis</h3>
    <div class="resumo-num resumo-disponivel" id="analistasDisponiveis">0</div>
  </div>

  <div class="resumo-box">
    <h3>â¸ï¸ Em Pausa</h3>
    <div class="resumo-num resumo-pausa" id="analistasPausa">0</div>
  </div>
</div>

</div>

<div class="grid">

<div class="card">
<h2>ğŸ“ Fila Telefone</h2>
<table>
<thead>
<tr><th>Analista</th><th>Pausa</th><th>Tempo</th></tr>
</thead>
<tbody id="filaTelefone"></tbody>
</table>
</div>

<div class="card">
<h2>ğŸ’¬ Fila Chat</h2>
<table>
<thead>
<tr><th>Analista</th><th>Pausa</th><th>Tempo</th></tr>
</thead>
<tbody id="filaChat"></tbody>
</table>
</div>

</div>

<div class="card adm">
<h2>ğŸ› ï¸ Painel Administrativo (Tempo Real)</h2>

<div class="admin-actions">
<button onclick="exportarDados()">ğŸ“¤ Exportar Dados</button>
<button onclick="atualizarStatusPausas()">ğŸ”„ Atualizar Status</button>
</div>

<table>
<thead>
<tr>
<th>Analista</th>
<th>Canal</th>
<th>Pausa Atual</th>
<th>Tempo Atual</th>
<th>Total Pausas</th>
<th>Status</th>
</tr>
</thead>
<tbody id="adminTabela"></tbody>
</table>
</div>
<!-- ===== SETINHA ===== -->
<div class="historico-toggle" onclick="toggleHistorico()">ğŸ“Š</div>

<!-- ===== PAINEL LATERAL ===== -->
<div class="historico-wrapper" id="painelHistorico">
  <div class="card adm" style="margin:15px">
    <h2>ğŸ“Š HistÃ³rico de Pausas</h2>

    <div style="display:flex;gap:10px;margin-bottom:10px">
      <select id="filtroPeriodo">
        <option value="dia">ğŸ“… DiÃ¡rio</option>
        <option value="semana">ğŸ“† Semanal</option>
        <option value="mes">ğŸ—“ï¸ Mensal</option>
      </select>

      <button onclick="carregarHistorico()">ğŸ” Filtrar</button>
      <button onclick="exportarHistorico()">ğŸ“¤ Exportar CSV</button>
    </div>

    <table>
      <thead>
        <tr>
          <th>Analista</th>
          <th>Canal</th>
          <th>Tipo de Pausa</th>
          <th>Qtd Pausas</th>
          <th>Tempo Total</th>
        </tr>
      </thead>
      <tbody id="tabelaHistorico"></tbody>
    </table>
  </div>
</div>

<script>
let ausenciaEditando = null;
const analistas = {};

function toggleAdmin(){ adminPanel.style.display = adminPanel.style.display==="block"?"none":"block"; }
function formatarMinSec(s){ return String(Math.floor(s/60)).padStart(2,"0")+":"+String(s%60).padStart(2,"0"); }
function formatarHora(s){ return String(Math.floor(s/3600)).padStart(2,"0")+":"+String(Math.floor((s%3600)/60)).padStart(2,"0")+":"+String(s%60).padStart(2,"0"); }

// -------- CRUD --------
function cadastrarAnalista(){
  const nome = analistaNome.value.trim();
  const canal = analistaCanal.value;
  if(!nome || !canal) return alert("Informe nome e canal");

  Backendless.Data.of("AnalistasPausa").save({
    nome, canal, pausaAtual:null, inicioPausa:null, totalTempo:0, aderencia:100
  }).then(a=>{
    analistas[a.objectId]=a;
    atualizarTudo();
  });

  analistaNome.value="";
  analistaCanal.value="";
}

// -------- AÃ‡Ã•ES ADMIN --------
function excluirAnalista(id){
  if(confirm("Excluir analista?")){
    Backendless.Data.of("AnalistasPausa").remove({objectId:id});
  }
}
function zerarAderencia(id){
  Backendless.Data.of("AnalistasPausa").save({objectId:id, aderencia:100});
}
function zerarPausas(id){
  Backendless.Data.of("AnalistasPausa").save({objectId:id, totalTempo:0});
}

// ===== ZERAR GERAL =====
function zerarTudoAderencia(){
  if(!confirm("Deseja zerar a ADERÃŠNCIA de TODOS os analistas?")) return;

  Object.values(analistas).forEach(a=>{
    a.aderencia = 100;
    Backendless.Data.of("AnalistasPausa").save({
      objectId: a.objectId,
      aderencia: 100
    });
  });

  atualizarTudo();
}

function zerarTudoPausas(){
  if(!confirm("Deseja zerar o TEMPO DE PAUSAS de TODOS os analistas?")) return;

  Object.values(analistas).forEach(a=>{
    a.totalTempo = 0;
    a.pausaAtual = null;
    a.inicioPausa = null;

    Backendless.Data.of("AnalistasPausa").save({
      objectId: a.objectId,
      totalTempo: 0,
      pausaAtual: null,
      inicioPausa: null
    });
  });

  atualizarTudo();
}


// -------- PAUSAS --------
function iniciarPausa(tipo){
  const nome = selectAnalista.value;
  if(!nome) return alert("Selecione o analista");
  const a = Object.values(analistas).find(x=>x.nome===nome);
  if(!a || a.pausaAtual) return alert("Analista jÃ¡ estÃ¡ em pausa");

  a.pausaAtual = tipo;
  a.inicioPausa = Date.now();
  atualizarTudo();
  Backendless.Data.of("AnalistasPausa").save({objectId:a.objectId, pausaAtual:tipo, inicioPausa:a.inicioPausa});
}

function finalizarPausa(){
  const nome = selectAnalista.value;
  if(!nome) return alert("Selecione o analista");

  const a = Object.values(analistas).find(x=>x.nome===nome);
  if(!a || !a.pausaAtual) return alert("Analista nÃ£o estÃ¡ em pausa");

  const fim = Date.now();
  const dur = Math.floor((fim - a.inicioPausa) / 1000);

  // ğŸ”¥ SALVA HISTÃ“RICO
  Backendless.Data.of("HistoricoPausas").save({
    analista: a.nome,
    canal: a.canal,
    tipoPausa: a.pausaAtual,
    inicio: a.inicioPausa,
    fim: fim,
    duracao: dur,
    data: new Date() // ğŸ‘ˆ CAMPO QUE ESTAVA FALTANDO
  });

  // ===== lÃ³gica atual =====
  if(
  a.pausaAtual === "Banheiro" ||
  a.pausaAtual === "Livre" ||
  a.pausaAtual === "AlmoÃ§o" ||
  a.pausaAtual === "ReuniÃ£o" ||
  a.pausaAtual === "Treinamento"
){
    a.aderencia = Math.max(0, a.aderencia - Math.floor(dur / 270));
  }

  a.totalTempo = (a.totalTempo || 0) + dur;
  a.pausaAtual = null;
  a.inicioPausa = null;

  Backendless.Data.of("AnalistasPausa").save(a);
  atualizarTudo();
}


// -------- EXPORTAR --------
function exportarDados(){
  let csv = "Analista,Canal,Pausa Atual,Tempo Atual,Total Pausas,AderÃªncia\n";
  Object.values(analistas).forEach(a=>{
    const tempoAtual = a.pausaAtual ? formatarMinSec(Math.floor((Date.now()-a.inicioPausa)/1000)) : "-";
    csv += `${a.nome},${a.canal},${a.pausaAtual||"-"},${tempoAtual},${formatarHora(a.totalTempo||0)},${a.aderencia||100}%\n`;
  });

  const blob = new Blob([csv], {type:"text/csv"});
  const link = document.createElement("a");
  link.href = URL.createObjectURL(blob);
  link.download = "painel_pausas.csv";
  link.click();
}

// -------- ATUALIZAR STATUS --------
function atualizarStatusPausas(){
  Backendless.Data.of("AnalistasPausa").find().then(res=>{
    res.forEach(a=>analistas[a.objectId]=a);
    atualizarTudo();
  });
}

// -------- ATUALIZAR --------
function atualizarTudo(){
  selectAnalista.innerHTML=`<option value="">Selecione o analista</option>`;
  filaTelefone.innerHTML=""; filaChat.innerHTML=""; adminTabela.innerHTML="";
  listaAnalistas.innerHTML="";

  Object.values(analistas).forEach(a=>{
    selectAnalista.innerHTML+=`<option>${a.nome}</option>`;

    if(a.pausaAtual){
      const tempo=Math.floor((Date.now()-a.inicioPausa)/1000);
      const linha=`<tr><td>${a.nome}</td><td>${a.pausaAtual}</td><td>${formatarMinSec(tempo)}</td></tr>`;
      a.canal==="Telefone"?filaTelefone.innerHTML+=linha:filaChat.innerHTML+=linha;
    }

    adminTabela.innerHTML+=`
    <tr>
      <td>${a.nome}</td>
      <td><span class="badge ${a.canal.toLowerCase()}">${a.canal}</span></td>
      <td>${a.pausaAtual||"-"}</td>
      <td>${a.pausaAtual?formatarMinSec(Math.floor((Date.now()-a.inicioPausa)/1000)):"-"}</td>
      <td><strong>${formatarHora(a.totalTempo||0)}</strong></td>
      <td class="status ${a.pausaAtual?"vermelho":"verde"}">
        <span class="bolinha ${a.pausaAtual?"vermelho":"verde"}"></span>
        ${a.pausaAtual?"Em pausa":"DisponÃ­vel"} | AderÃªncia: ${a.aderencia||100}%
      </td>
    </tr>`;

    listaAnalistas.innerHTML+=`
    <div>
      <span>${a.nome}</span>
      <div>
        <button onclick="zerarAderencia('${a.objectId}')">AderÃªncia</button>
        <button onclick="zerarPausas('${a.objectId}')">Pausas</button>
        <button onclick="excluirAnalista('${a.objectId}')" style="background:#dc2626;color:#fff">Excluir</button>
      </div>
    </div>`;
  });
  // ===== RESUMO DE DISPONIBILIDADE =====
  const total = Object.values(analistas).length;
  const emPausa = Object.values(analistas).filter(a => a.pausaAtual).length;
  const disponiveis = total - emPausa;

  document.getElementById("totalAnalistas").innerText = total;
  document.getElementById("analistasDisponiveis").innerText = disponiveis;
  document.getElementById("analistasPausa").innerText = emPausa;

}

// -------- LOAD + REALTIME --------
Backendless.Data.of("AnalistasPausa").find().then(res=>{
  res.forEach(a=>analistas[a.objectId]=a);
  atualizarTudo();
});

Backendless.Data.of("AnalistasPausa").RT()
.subscribe(Backendless.Data.SubscriptionMode.CREATE, r=>{analistas[r.object.objectId]=r.object; atualizarTudo();})
.subscribe(Backendless.Data.SubscriptionMode.UPDATE, r=>{analistas[r.object.objectId]=r.object; atualizarTudo();})
.subscribe(Backendless.Data.SubscriptionMode.DELETE, r=>{delete analistas[r.object.objectId]; atualizarTudo();});

requestAnimationFrame(function loop(){ atualizarTudo(); requestAnimationFrame(loop); });

// ===== AUSÃŠNCIAS =====
function toggleAusencias(){
  ausenciasPanel.style.display =
    ausenciasPanel.style.display === "block" ? "none" : "block";
  carregarAnalistasAusencias();
  listarAusencias();
}

function carregarAnalistasAusencias(){
  ausAnalista.innerHTML = `<option value="">Selecione o analista</option>`;
  Object.values(analistas).forEach(a=>{
    ausAnalista.innerHTML += `<option>${a.nome}</option>`;
  });
}

function salvarAusencia(){
  if(!ausAnalista.value || !ausData.value)
    return alert("Preencha analista e data");

  const dados = {
    analista: ausAnalista.value,
    tipo: ausTipo.value,
    data: ausData.value,
    inicio: ausInicio.value,
    fim: ausFim.value,
    motivo: ausMotivo.value
  };

  // EDITAR
  if(ausenciaEditando){
    dados.objectId = ausenciaEditando;
    Backendless.Data.of("Ausencias").save(dados).then(()=>{
      ausenciaEditando = null;
      limparFormularioAusencias();
      listarAusencias();
    });
  }
  // NOVO
  else{
    Backendless.Data.of("Ausencias").save(dados).then(()=>{
      limparFormularioAusencias();
      listarAusencias();
    });
  }
}
function limparFormularioAusencias(){
  ausMotivo.value="";
  ausInicio.value="";
  ausFim.value="";
  ausData.value="";
  ausenciaEditando = null;
}


function listarAusencias(){
  Backendless.Data.of("Ausencias").find().then(res=>{
    listaAusencias.innerHTML="";
    res.forEach(a=>{
      listaAusencias.innerHTML += `
      <tr>
        <td>${a.analista}</td>
        <td>${a.tipo}</td>
        <td>${a.data}</td>
        <td>${a.inicio||"-"} - ${a.fim||"-"}</td>
        <td>${a.motivo||"-"}</td>
        <td>
          <button onclick="editarAusencia('${a.objectId}')">ğŸ–Šï¸</button>
          <button onclick="excluirAusencia('${a.objectId}')" style="background:#dc2626;color:#fff">ğŸ—‘ï¸</button>
        </td>
      </tr>`;
    });
  });
}


function exportarAusencias(){
  Backendless.Data.of("Ausencias").find().then(res=>{
    let csv="Analista,Tipo,Data,Inicio,Fim,Motivo\n";
    res.forEach(a=>{
      csv+=`${a.analista},${a.tipo},${a.data},${a.inicio},${a.fim},${a.motivo}\n`;
    });
    const blob=new Blob([csv],{type:"text/csv"});
    const link=document.createElement("a");
    link.href=URL.createObjectURL(blob);
    link.download="ausencias.csv";
    link.click();
  });
}
function editarAusencia(id){
  Backendless.Data.of("Ausencias").findById(id).then(a=>{
    ausAnalista.value = a.analista;
    ausTipo.value = a.tipo;
    ausData.value = a.data;
    ausInicio.value = a.inicio;
    ausFim.value = a.fim;
    ausMotivo.value = a.motivo;
    ausenciaEditando = a.objectId;
  });
}

function excluirAusencia(id){
  if(confirm("Deseja excluir esta ausÃªncia?")){
    Backendless.Data.of("Ausencias").remove({objectId:id})
      .then(()=>listarAusencias());
  }
}
function carregarHistorico(){
  const periodo = filtroPeriodo.value;
  let inicio = new Date();

  if(periodo === "dia"){
    inicio.setHours(0,0,0,0);
  }
  if(periodo === "semana"){
    inicio.setDate(inicio.getDate() - 7);
  }
  if(periodo === "mes"){
    inicio.setMonth(inicio.getMonth() - 1);
  }

  const where = `data >= '${inicio.toISOString().split("T")[0]}'`;


  Backendless.Data.of("HistoricoPausas")
    .find({ whereClause: where })
    .then(res=>{
      const resumo = {};

      res.forEach(r=>{
        const chave = r.analista + "|" + r.tipoPausa;

        if(!resumo[chave]){
          resumo[chave] = {
            analista: r.analista,
            canal: r.canal,
            tipo: r.tipoPausa,
            qtd: 0,
            tempo: 0
          };
        }

        resumo[chave].qtd++;
        resumo[chave].tempo += r.duracao;
      });

      tabelaHistorico.innerHTML = "";
      Object.values(resumo).forEach(r=>{
        tabelaHistorico.innerHTML += `
          <tr>
            <td>${r.analista}</td>
            <td>${r.canal}</td>
            <td>${r.tipo}</td>
            <td>${r.qtd}</td>
            <td>${formatarHora(r.tempo)}</td>
          </tr>`;
      });
    });
}
function exportarHistorico(){
  Backendless.Data.of("HistoricoPausas").find().then(res=>{
    let csv = "Analista,Canal,Tipo Pausa,Inicio,Fim,DuraÃ§Ã£o(segundos)\n";
    res.forEach(r=>{
      csv += `${r.analista},${r.canal},${r.tipoPausa},${new Date(r.inicio).toLocaleString()},${new Date(r.fim).toLocaleString()},${r.duracao}\n`;
    });

    const blob = new Blob([csv], {type:"text/csv"});
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = "historico_pausas.csv";
    link.click();
  });
}
function toggleHistorico(){
  const painel = document.getElementById("painelHistorico");
  painel.classList.toggle("aberto");
}

</script>

</body>
</html>
